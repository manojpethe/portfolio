<html>
    <head>
        <link rel="stylesheet" href="styles.css">
        <title>Portfolio</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>
    <body>
        <div id="fighter1" class="float">
            <img id="fightersvg" src="img/fighter-svgrepo-com.svg" width="150px" height="150px">
        </div>
        <div id="iron-man" class="float">
            <img id="iron-man" src="img/iron-man.png" width="150px">
        </div>
        <div id="thunder" class="thunder" style="opacity: 0; z-index: 999;">
            <img src="img/lightning.svg" width="100px" height="200px">
        </div>
        <div class="topnav">
            <div style="display: flex; justify-items: start;">
                <div style="padding-left: 100px;">
                    <h1 style="text-shadow: lightblue 10px 0 10px;; color: rgb(6, 85, 175); font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;">Manoj Pethe</h1>
                </div>
            </div>
        </div>

        <div id="main-section" class="main-section">

        <div id="sky1" class="cloud-float" style="width: 100vw; height: 10vh; background-color: none">
            <div id="cloud1" style="position: relative; left: 10px; background-color: none; height: 100%; width: 10%; ">
                <img src="img/cloud.svg" width="200px" height="100%">
            </div>
            <div  id="cloud2" style="position: relative;  left: 10px; background-color: none; height: 100%; width: 10%; ">
                <img src="img/cloud.svg" width="200px" height="100%">
            </div>
            <div  id="cloud3" style="position: relative; left: 10px; background-color: none; height: 100%; width: 10%; ">
                <img src="img/cloud.svg" width="200px" height="100%">
            </div>
            <div  id="cloud4" style="position: relative; left: 10px; background-color: none; height: 100%; width: 10%; ">
                <img src="img/cloud.svg" width="200px" height="100%">
            </div>

        </div>
        <div id="parachute-container">
        </div>

        </div>
        <!-- <div class="grid-container">
            <div class="grid-item">column1</div>
            <div class="grid-item">column2</div>
            <div class="grid-item">column3</div>
        </div> -->
    </body>
    <script>

        const slideCloud=(cloud)=>{
            if(cloud.cloudDirection === 'right'){
                cloud.cloudPosition = cloud.cloudPosition + cloud.cloudSpeed;
            } else if(cloud.cloudDirection === 'left'){
                cloud.cloudPosition = cloud.cloudPosition - cloud.cloudSpeed;
            }
            cloud.cloudElement.style.left = `${cloud.cloudPosition}px`;
            if(cloud.cloudPosition > (screen.availWidth+300)){
                cloud.cloudDirection = 'left';
            }
            if(cloud.cloudPosition <= -300){
                cloud.cloudDirection = 'right';
            }
            cloud.cloudElement.style.top = `${cloud.cloudVPosition}px`
        }

        const myCloud1 = { 
            cloudPosition: 0,
            cloudVPosition: 50,
            cloudSpeed: 25,
            cloudDirection: 'right',
            cloudElement : document.getElementById('cloud1'),
        }

        const myCloud2 = { 
            cloudPosition: 100,
            cloudVPosition: -20,
            cloudSpeed: 10,
            cloudDirection: 'right',
            cloudElement : document.getElementById('cloud2'),
        }
        const myCloud3 = { 
            cloudPosition: 400,
            cloudVPosition: -30,
            cloudSpeed: 10,
            cloudDirection: 'right',
            cloudElement : document.getElementById('cloud3'),
        }
        const myCloud4 = { 
            cloudPosition: 600,
            cloudVPosition: -40,
            cloudSpeed: 35,
            cloudDirection: 'left',
            cloudElement : document.getElementById('cloud4'),
        }

        setInterval(()=>{
            slideCloud(myCloud1);
            slideCloud(myCloud2);
            slideCloud(myCloud3);
            slideCloud(myCloud4);
        },250);


        const myJet1 = {
            aeroX: 300,
            aeroY: 300,
            aeroDirection: 'right',
            aeroElevation: 'up',
            aeroSpeed: 5,
            jetElement : document.getElementById('fighter1'),
        }

        const myJet2 = {
            aeroX: 600,
            aeroY: 600,
            aeroDirection: 'right',
            aeroElevation: 'up',
            aeroSpeed: 7,
            jetElement : document.getElementById('iron-man'),
        }

        const flyJet=(jet)=>{
            if(jet.aeroDirection === 'right' && jet.aeroElevation === 'up' ){
                jet.aeroX = jet.aeroX + jet.aeroSpeed;
                jet.aeroY = jet.aeroY - (jet.aeroSpeed/6);
                jet.jetElement.style.left = `${jet.aeroX}px`;
                jet.jetElement.style.top = `${jet.aeroY}px`;
            } else if (jet.aeroDirection === 'right' && jet.aeroElevation === 'down'){
                jet.aeroX = jet.aeroX + jet.aeroSpeed;
                jet.aeroY = jet.aeroY + (jet.aeroSpeed/6);
                jet.jetElement.style.left = `${jet.aeroX}px`;
                jet.jetElement.style.top = `${jet.aeroY}px`;
            } else if (jet.aeroDirection === 'left' && jet.aeroElevation === 'down'){
                jet.aeroX = jet.aeroX - jet.aeroSpeed;
                jet.aeroY = jet.aeroY + (jet.aeroSpeed/6);
                jet.jetElement.style.left = `${jet.aeroX}px`;
                jet.jetElement.style.top = `${jet.aeroY}px`;
            } else if (jet.aeroDirection === 'left' && jet.aeroElevation === 'up'){
                jet.aeroX = jet.aeroX - jet.aeroSpeed;
                jet.aeroY = jet.aeroY - (jet.aeroSpeed/6);
                jet.jetElement.style.left = `${jet.aeroX}px`;
                jet.jetElement.style.top = `${jet.aeroY}px`;
            }

            if(jet.aeroY < 0){
                jet.aeroElevation = 'down';
            }
            if(jet.aeroX > screen.availWidth){
                jet.aeroDirection = 'left';
                jet.jetElement.style.transform = "scaleX(-1)";
            }
            if(jet.aeroY > screen.availHeight){
                jet.aeroElevation = 'up';
            }
            if(jet.aeroX < 0){
                jet.aeroDirection = 'right';
                jet.jetElement.style.transform = "";

            }
        }

        setInterval(()=>{
            flyJet(myJet1);
            flyJet(myJet2);
        },100)

        const divCloud1 = document.getElementById('cloud1');
        divCloud1.addEventListener('click',event=>{
            showThunder(event.screenX,event.screenY);
        })

        const divCloud2 = document.getElementById('cloud2');
        divCloud2.addEventListener('click',event=>{
            showThunder(event.screenX,event.screenY);
        })

        const divCloud3 = document.getElementById('cloud3');
        divCloud3.addEventListener('click',event=>{
            showThunder(event.screenX,event.screenY);
        })

        const divCloud4 = document.getElementById('cloud4');
        divCloud4.addEventListener('click',event=>{
            showThunder(event.screenX,event.screenY);
        })

        const showThunder=(x,y)=>{
            const thunder = document.getElementById('thunder');
            thunder.style.cssText = `opacity: 1; left: ${x-50}px; top:${y}px;`
            setTimeout(()=>{
                thunder.style.cssText = 'opacity: 0;'
            },250)
        }

        const fighter1 = document.getElementById('fighter1');
        fighter1.addEventListener('click',event=>{
            para(event.screenX,event.screenY);
        })

        // const fighter2 = document.getElementById('fighter2');
        // fighter2.addEventListener('click',event=>{
        //     para(event.screenX,event.screenY);
        // })

        const para =(x,y)=>{
            // console.info("para",x,y);
            const parachute = document.createElement('img');
            parachute.src = 'img/parachute.svg';
            parachute.width = '100';
            parachute.style.cssText = `position: fixed; left: ${x}px; top:${y}px;`
            const container = document.getElementById('main-section');
            container.appendChild(parachute);
            // console.log(container);
            let myInterval = 1000;
            let intervalId = setInterval(()=>{
                // console.log('location of parachute:',x,y,screen.availHeight);
                y = y + 50;
                parachute.style.cssText = `position: fixed; left: ${x}px; top:${y}px;`;
                if(y>screen.availHeight){
                    console.log("parachute out of screen");
                    parachute.remove();
                    clearInterval(intervalId);
                }
            },myInterval);

        }
        
    </script>
</html>